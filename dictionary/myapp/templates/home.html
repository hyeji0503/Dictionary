
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
            {% load static %}
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="web.css" />
        <link rel="stylesheet" media="(max-width:480px)" href="mobile.css" />
    </head>
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
    <script>
            var numbers = new Array();
            var letter = new Array();
            var count=0;
            var lettercount=0;

            var distX;
            var distY;
            var posX;
            var posY;
            function click_translate() {
                var result = document.getElementById("result").value;
                window.open("https://dict.naver.com/search.nhn?dicQuery="+result+"&query="+result+"&target=dic&ie=utf8&query_utf=&isOnlyViewEE=");
                
            }
           
            function allowDrop(ev) {
                ev.preventDefault();
               // ev.stopPropagation();
                
            }
            
            function drag(ev) {
               
                ev.dataTransfer.setData("text", ev.target.id);
             
            }
            function startDrag(e){
                
                var code = e.dataTransfer.getData('text');
                e.dataTransfer.setData('Text',code);
            }
            function dropped(e){
                e.preventDefault();
                leftbox.innerHTML = e.dataTransfer.getData('Text');
            }
           
            function click_transform() {
               letter[lettercount]=(numbers[0]*588)+((numbers[1]-100)*28)+(numbers[2]-1000)+44032;
               document.getElementById('result').innerHTML+=(String.fromCharCode(letter[lettercount]));
               lettercount++;
               $('.textbox img').remove();
               
                numbers[2] = 0;
                count =0;
            }
            button = document.getElementById('button_translate');
            $(document).ready(function(){
                $('button').click(function(){
                    var input = document.getElementById("result").value;
                        window.open("https://dict.naver.com/search.nhn?dicQuery="+input+"&query="+input+"&target=dic&ie=utf8&query_utf=&isOnlyViewEE=");
                });
            });
            
            function drop(ev) {
                //ev.preventDefault();
                var data = ev.dataTransfer.getData("text");
               /* ev.stopPropagation();
                ev.preventDefault();
                posX = ev.pageX;
                posY = ev.pageY;
                $('#'+'data').css('position', 'absolute' ).css('margin-left', posX + distX + 'px')
                .css('margin-top', posY + distY + 'px');
                console.log(posX, posY, distX, distY);
                */
                var data = ev.dataTransfer.getData("text");
                ev.target.append(document.getElementById(data));
                
                
                numbers[count] = Number(data);
                count ++;
        
            }
            
            </script>
    <body>
    <div id = "wrapper">

        <div class="header">
            <h3> </h3>
        </div>

        <div class = "main">

            <div id = "carousel" style="clear:both">
                    <div class="slide">
                        <img id="0" draggable="true" ondragstart="drag(event)"  src = "{% static '1_0.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="2" draggable="true" ondragstart="drag(event)"  src = "{% static '1_2.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="3" draggable="true" ondragstart="drag(event)" src = "{% static '1_3.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="5" draggable="true" ondragstart="drag(event)" src = "{% static '1_5.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="6" draggable="true" ondragstart="drag(event)" src= "{% static '1_6.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="7" draggable="true" ondragstart="drag(event)" src= "{% static '1_7.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="9" draggable="true" ondragstart="drag(event)" src = "{% static '1_9.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="11" draggable="true" ondragstart="drag(event)" src = "{% static '1_11.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="12" draggable="true" ondragstart="drag(event)" src = "{% static '1_12.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="14" draggable="true" ondragstart="drag(event)" src = "{% static '1_14.png' %}">
                    </div>
    
                    <div class="slide">
                        <img id="15" draggable="true" ondragstart="drag(event)" src = "{% static '1_15.png' %}">
                    </div>
                    
                    <div class="slide">
                        <img id="16" draggable="true" ondragstart="drag(event)" src = "{% static '1_16.png' %}">
                    </div>

                    <div class="slide">
                        <img id="17" draggable="true" ondragstart="drag(event)" src = "{% static '1_17.png' %}">
                    </div>

                    <div class="slide">
                        <img id="18" draggable="true" ondragstart="drag(event)" src = "{% static '1_18.png' %}">
                    </div>
    
                </div>


            <div class="center" style="width:100%; ">
                <div class="container" style="width:70%; height:300px;">
                    <div class="textbox" ondrop="drop(event)" ondragover="allowDrop(event)" style = "border:1px solid; width:100%; height:100%">
                        <div class = "row">
                            <div class = "left">
    
                            </div>
                            <div class = "middle">
    
                            </div>
                            <div class = "right">
    
                            </div>
                        </div>
    
                        <div class = "row">
                            <div class = "left">
    
                            </div>
                            <div class = "middle">
    
                            </div>
                            <div class = "right">
                                
                            </div>
                        </div>
    
                        <div class = "row">
                            <div class = "left">
    
                            </div>
                            <div class = "middle">
    
                            </div>
                            <div class = "right">
                                
                            </div>
                        </div>
                    </div>
                </div>

                
                <div id = "carousel2" style="clear:both; height:300px;">
                        <div class="slide">
                            <img id="100" draggable="true" ondragstart="drag(event)"  src = "{% static '2_0.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="101" draggable="true" ondragstart="drag(event)"  src = "{% static '2_1.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="102" draggable="true" ondragstart="drag(event)" src = "{% static '2_2.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="103" draggable="true" ondragstart="drag(event)" src = "{% static '2_3.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="104" draggable="true" ondragstart="drag(event)" src = "{% static '2_4.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="105" draggable="true" ondragstart="drag(event)" src = "{% static '2_5.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="106" draggable="true" ondragstart="drag(event)" src = "{% static '2_6.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="107" draggable="true" ondragstart="drag(event)" src = "{% static '2_7.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="108" draggable="true" ondragstart="drag(event)" src = "{% static '2_8.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="109" draggable="true" ondragstart="drag(event)" src = "{% static '2_9.png' %}">
                        </div>
        
                        <div class="slide">
                            <img id="110" draggable="true" ondragstart="drag(event)" src = "{% static '2_10.png' %}">
                        </div>
                        
                        <div class="slide">
                            <img id="111" draggable="true" ondragstart="drag(event)" src = "{% static '2_11.png' %}">
                        </div>
        
                    </div>

            </div>
            <br>

            <div id = "carousel" style="clear:both">
                <div class="slide">
                    <img id="1001" draggable="true" ondragstart="drag(event)" src = "{% static '3_1.png' %}">
                </div>

                <div class="slide">
                    <img id="1004" draggable="true" ondragstart="drag(event)" src = "{% static '3_4.png' %}">
                </div>

                <div class="slide">
                    <img id="1007" draggable="true" ondragstart="drag(event)" src = "{% static '3_7.png' %}">
                </div>

                <div class="slide">
                    <img id="1008" draggable="true" ondragstart="drag(event)" src = "{% static '3_8.png' %}">
                </div>

                <div class="slide">
                    <img id="1016" draggable="true" ondragstart="drag(event)" src = "{% static '3_16.png' %}">
                </div>

                <div class="slide">
                    <img id="1017" draggable="true" ondragstart="drag(event)" src = "{% static '3_17.png' %}">
                </div>

                <div class="slide">
                    <img id="1019" draggable="true" ondragstart="drag(event)" src = "{% static '3_19.png' %}">
                </div>

                <div class="slide">
                    <img id="1021" draggable="true" ondragstart="drag(event)" src = "{% static '3_21.png' %}">
                </div>

                <div class="slide">
                    <img id="1022" draggable="true" ondragstart="drag(event)" src = "{% static '3_22.png' %}">
                </div>

                <div class="slide">
                    <img id="1023" draggable="true" ondragstart="drag(event)" src = "{% static '3_23.png' %}">
                </div>

                <div class="slide">
                    <img id="1024" draggable="true" ondragstart="drag(event)" src = "{% static '3_24.png' %}">
                </div>
                
                <div class="slide">
                    <img id="1025" draggable="true" ondragstart="drag(event)" src = "{% static '3_25.png' %}">
                </div>

                <div class="slide">
                    <img id="1026" draggable="true" ondragstart="drag(event)" src = "{% static '3_26.png' %}">
                </div>

                <div class="slide">
                    <img id="1027" draggable="true" ondragstart="drag(event)" src = "{% static '3_27.png' %}">
                </div>
            </div>
            


            <div class="ttsform" style="float:left; width:70%">
            <form action="{% url 'home' %}" method="GET">
                    {% csrf_token %}
            <div class="translate">
                <div class = "t_area">
                    <textarea type="text" name="tts_content" value="{{tts_content}}" id="result" cols="45" rows="2" style="float:left" > </textarea>
                </div>
                <div class = "mybtn">                
                    <input type = "button" id="button_translate" onclick="click_translate();"  class = "btn btn-secondary" value="Translate"/>
                    <input type = "submit" class = "btn btn-secondary" value="Sounds"/>
                </div>
            </div>
            </form>
            </div>

            <div class="transbutton" style="float:left;">
                <input type = "image" id="button_transform" onclick="click_transform();" src = "{% static 'transform.png' %}" class = "transform-button" />
            </div>

            <audio controls>
                <source src="{% static 'gtts2.mp3' %}" type="audio/mp3">
            </audio>

<!--
    <form action="" method="get">
        <input type="text" name="search" value="{{ search }}">
        <input type="submit" value="검색">
    </form>
-->

        </div>

        <div class="footer">
            <h3></h3>
        </div>
    
    </div> 
    </body>
</html>
<style>


#wrapper{
    max-width:480px;
    margin: 0 auto;
}

.center{
    margin-top: 20px;
    height: 320px;
    float: left;
}

.mybtn{
    width: 380px;
}


.textbox{
    display: table;
}

.transbutton{
    padding-top:5px;
}

.translate{
    padding-top: 10px;
}

input.transform-button{
    margin: 5px;
    border: none;
    width: 42px;
    height: 42px;
    cursor:pointer;
}

.btn btn-secondary{
    vertical-align:middle; 
}

#carousel {
    width: 80%;
    height: 35px;
    overflow: auto;
}

#carousel2 {
    display: inline-block;
    width: 15%;
    height: 300px;
    overflow: auto;
}

#carousel .slide {
    display: inline-block;

}

.container{
    display: inline-block;
}

.row{
    display: table-row;
}

.left, .middle, .right{
    display: table-cell;
    border: 1px dashed;
}
div {
    padding :0px;
}

.left{
    width: 30%;
    height: 30%;
}
.right{
    width: 30%;
    height: 30%;
}
.middle{
    width: 30%;
    height: 30%;
}

</style>